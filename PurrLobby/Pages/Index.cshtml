@page
@model PurrLobby.Pages.IndexModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>PurrLobby</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <style>
        :root {
            --bg: #000;
            --text: #fff;
            --muted: #aaa;
            --border: #333;
            --accent: #2aa9ff;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background: var(--bg); color: var(--text); font-family: monospace, sans-serif; line-height: 1.5; }
        .container { max-width: 800px; margin: 20px auto; padding: 0 12px; }
        .hero { display: flex; align-items: center; gap: 12px; margin-bottom: 20px; }
        .logo { width: 64px; height: 64px; object-fit: contain; }
        .title { font-size: 32px; }
        .section-title { font-size: 14px; margin: 20px 0 8px; text-transform: uppercase; }
        .center { text-align: center; }
        .bigstats { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; margin-bottom: 20px; }
        .bigstat { min-width: 120px; display: flex; flex-direction: column; align-items: center; }
        .bignum { font-size: 32px; font-weight: bold; text-align: center; }
        .biglabel { font-size: 12px; color: var(--muted); text-align: center; }
        .stack { display: grid; gap: 8px; margin-bottom: 20px; }
        #gameIdInput { padding: 8px; border: 1px solid var(--border); background: var(--bg); color: var(--text); }
        button { padding: 8px; border: 1px solid var(--border); background: #111; color: var(--text); cursor: pointer; }
        button:hover { background: #222; }
        .disclaimer { font-size: 13px; color: var(--muted); margin-top: 20px; }
        a { color: var(--accent); }
    </style>
</head>
<body>
    <div class="container">
        <header class="hero">
            <img class="logo" src="/purrlogo.png" alt="PurrLobby" />
            <h1 class="title">PurrLobby</h1>
        </header>

        <h2 class="section-title center">Global Stats</h2>
        <div class="bigstats">
            <div class="bigstat">
                <div class="bignum">@Model.GlobalPlayers</div>
                <div class="biglabel">Players</div>
            </div>
            <div class="bigstat">
                <div class="bignum">@Model.GlobalLobbies</div>
                <div class="biglabel">Lobbies</div>
            </div>
        </div>

        <h2 class="section-title">Track Your Game</h2>
        <form method="post" class="stack">
            <input id="gameIdInput" asp-for="GameIdInput" type="text" placeholder="Enter Game ID (GUID)" required />
            <button type="submit">Set Game</button>
        </form>
        <small id="cookieStatus" class="muted">@Model.CookieStatus</small>

        <h2 class="section-title center">Game Stats</h2>
        <div class="bigstats">
            <div class="bigstat">
                <div class="bignum">@Model.GamePlayers</div>
                <div class="biglabel">Players</div>
            </div>
            <div class="bigstat">
                <div class="bignum">@Model.GameLobbies</div>
                <div class="biglabel">Lobbies</div>
            </div>
        </div>

        <div class="center" style="margin: 20px 0;">
            <a href="/swagger" class="btn" target="_blank">Swagger API Docs</a>
        </div>

        <p class="disclaimer">
            This Service does not (yet) belong to purrnet, it's just something I put together for an alternative to the Steam Lobby Service and Unity Service.
            Since it's running on my own setup, it might go down or act weird sometimes.
            If that happens, no worries, it'll probably be back soon.
            Please don't contact the actual PurrNet devs about this, it's all on me.
            If there are any problems contact me on discord: exil_s
        </p>
    </div>
</body>
</html>
